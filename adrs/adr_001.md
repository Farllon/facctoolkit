# ADR 0001: Definição dos repositórios

## Contexto
O modo como os repositórios serão implementados fará com que a arquitetura da aplicação siga determinado rumo.
Foram consideradas duas maneiras:
1 - Segregar os repositórios de escrita e de leitura
2 - Ter um repositório que possar ler e escrever e deixar a cargo da implementação de cada projeto criar as queries na camada de aplicação e implementálas na camada de infraestrutura

## Decisão
A opção foi de implementar um único repositório

## Consequências
Liste as consequências da decisão:
- **Positivas**:
- Podemos utilizar a implementação das transações de maneira mais simplificada, permitindo que possamos ler um registro sem que ele esteja persistido ainda quando usamos o recurso de transações. Diferente se utilizassemos repositórios diferentes, onde caso utilizassemos contextos separados para cada repositório, teríamos que nos preocupar se o contexto de leitura está usando a mesma transação do contexto de escrita.
- Queries mais complexas que não necessariamente se relacionam com o domínio da aplicação (paginação por exemplo) podem ser implementadas diretamente na camada de infraestrutura, deixando a aplicação com uma arquitetura bem definida e limpa.
- **Negativas**:
- Pode trazer um pouco mais de complexidade para projetos mais simples
- Pode sujar facilmente a arquitetura da aplicação se não estiver bem definida
- **Longo Prazo**: Ao longo prazo pode ser que nos questionemos se essa escolha resolve a maioria dos problemas e podemos nos deparar com uma nova solução